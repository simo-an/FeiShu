{"version":3,"sources":["..\\..\\electron\\main\\ipc.ts"],"sourcesContent":["import {ClientContext} from \"./client\";\r\nimport {app, ipcMain} from 'electron'\r\n\r\nclass IPCService {\r\n  public context: ClientContext\r\n\r\n  constructor(context: ClientContext) { this.context = context }\r\n\r\n  /**\r\n   * 创建一些基础的同\r\n   */\r\n  public createBaseCommunication() {\r\n    ipcMain.on('app-quit', () => {\r\n      app.quit()\r\n    })\r\n    ipcMain.on('close-quit', () => {\r\n      app.exit(0)\r\n    })\r\n  }\r\n\r\n  /**\r\n   * 创建与主窗口的通信\r\n   */\r\n  public createMainWindowCommunication() {\r\n    const mainWindow = this.context.mainWindow\r\n\r\n    ipcMain.on('main:minimize', (_) => mainWindow.minimize())\r\n    ipcMain.on('main:maximize', (_) => {\r\n      if (mainWindow.nativeWindow.isMaximized()) {\r\n        return mainWindow.unmaximize()\r\n      }\r\n      mainWindow.maximize()\r\n    })\r\n    ipcMain.on('main:close', (_) => mainWindow.close())\r\n  }\r\n\r\n}\r\n\r\nexport default IPCService"],"mappings":";;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,sBAA2B;AAE3B,MAAM,WAAW;AAAA,EAGf,YAAY,SAAwB;AAAE,SAAK,UAAU;AAAA,EAAQ;AAAA,EAKtD,0BAA0B;AAC/B,4BAAQ,GAAG,YAAY,MAAM;AAC3B,0BAAI,KAAK;AAAA,IACX,CAAC;AACD,4BAAQ,GAAG,cAAc,MAAM;AAC7B,0BAAI,KAAK,CAAC;AAAA,IACZ,CAAC;AAAA,EACH;AAAA,EAKO,gCAAgC;AACrC,UAAM,aAAa,KAAK,QAAQ;AAEhC,4BAAQ,GAAG,iBAAiB,CAAC,MAAM,WAAW,SAAS,CAAC;AACxD,4BAAQ,GAAG,iBAAiB,CAAC,MAAM;AACjC,UAAI,WAAW,aAAa,YAAY,GAAG;AACzC,eAAO,WAAW,WAAW;AAAA,MAC/B;AACA,iBAAW,SAAS;AAAA,IACtB,CAAC;AACD,4BAAQ,GAAG,cAAc,CAAC,MAAM,WAAW,MAAM,CAAC;AAAA,EACpD;AAEF;AAEA,IAAO,gBAAQ;","names":[],"file":"ipc.js"}