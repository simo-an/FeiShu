{"version":3,"sources":["..\\..\\..\\electron\\main\\window\\options.ts"],"sourcesContent":["import {BrowserWindowConstructorOptions} from 'electron'\r\nimport {join} from \"path\";\r\n\r\nexport type ElectronWindowOptions = BrowserWindowConstructorOptions\r\n\r\nconst mergePlainObject = (source: object, target: object) => {\r\n  Reflect.ownKeys(source).forEach(key => target[key] = target[key] ?? source[key])\r\n}\r\n\r\nexport const mergeOptions = (\r\n  source: ElectronWindowOptions,\r\n  target: ElectronWindowOptions\r\n): ElectronWindowOptions => {\r\n  const keyList = Reflect.ownKeys(source)\r\n\r\n  keyList.forEach(key => {\r\n    target[key] = target[key] ?? source[key]\r\n    if (key === 'webPreferences') { // 单独处理 webPreferences\r\n      mergePlainObject(target[key], source[key])\r\n    }\r\n  })\r\n\r\n  return target\r\n}\r\n\r\nexport function useMainWindowOptions() {\r\n  return {\r\n    title: '飞书',\r\n    icon: join(process.env.PUBLIC, 'favicon.png'),\r\n    width: 1120,\r\n    height: 760,\r\n    minWidth: 920,\r\n    minHeight: 640,\r\n    frame: false,\r\n    backgroundColor: \"#FFFFFF\",\r\n    alwaysOnTop: true,\r\n    webPreferences: {\r\n      preload:  join(__dirname, '../../preload/index.js'),\r\n      nodeIntegration: true,\r\n      contextIsolation: false,\r\n    }\r\n  } as BrowserWindowConstructorOptions\r\n}"],"mappings":";;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,kBAAmB;AAInB,MAAM,mBAAmB,CAAC,QAAgB,WAAmB;AAC3D,UAAQ,QAAQ,MAAM,EAAE,QAAQ,SAAO,OAAO,OAAO,OAAO,QAAQ,OAAO,IAAI;AACjF;AAEO,MAAM,eAAe,CAC1B,QACA,WAC0B;AAC1B,QAAM,UAAU,QAAQ,QAAQ,MAAM;AAEtC,UAAQ,QAAQ,SAAO;AACrB,WAAO,OAAO,OAAO,QAAQ,OAAO;AACpC,QAAI,QAAQ,kBAAkB;AAC5B,uBAAiB,OAAO,MAAM,OAAO,IAAI;AAAA,IAC3C;AAAA,EACF,CAAC;AAED,SAAO;AACT;AAEO,SAAS,uBAAuB;AACrC,SAAO;AAAA,IACL,OAAO;AAAA,IACP,UAAM,kBAAK,QAAQ,IAAI,QAAQ,aAAa;AAAA,IAC5C,OAAO;AAAA,IACP,QAAQ;AAAA,IACR,UAAU;AAAA,IACV,WAAW;AAAA,IACX,OAAO;AAAA,IACP,iBAAiB;AAAA,IACjB,aAAa;AAAA,IACb,gBAAgB;AAAA,MACd,aAAU,kBAAK,WAAW,wBAAwB;AAAA,MAClD,iBAAiB;AAAA,MACjB,kBAAkB;AAAA,IACpB;AAAA,EACF;AACF;","names":[],"file":"options.js"}